<ion-view view-title="" >
    <ion-content>
        <div class="row bread">
            Mi Pedido
        </div>


        <!-- Agotados -->
        <div class="list list-inset" ng-show="hayAgotadosAnteriorReales()" >
            <div class="item item-icon-right assertive" ng-click="mostrarAgotados()" href="#">
                <i class="icon ion-plus-circled"></i>
                <span class="assertive">Tu pedido presenta algunos agotados. Te invitamos para ver el detalle.</span>
            </div>
        </div>

        <!-- Anulado -->
        <div class="list list-inset no-procesado" ng-show="estadoEncontrado('Anulado') && estadoEncontrado('Novedad')">

            <div class="item">
                <span class="highlighted">Tu pedido no será enviado, puedes ver el detalle a continuación:</span>
            </div>

            <!-- General -->
            <div class="item assertive" ng-show="!motivoNovedadEncontrado('morosa') && !motivoNovedadEncontrado('cupo') && !motivoNovedadEncontrado('tope') ">
                <span>
                    Mamá tu pedido no será enviado para conocer
                    la razón de esta situación comunícate con tu
                    Mamá Líder o con la Línea de Atención {{ lineaAtencion }}
                </span>
            </div>

            <!-- Morosidad -->
            <div class="item assertive" ng-show="motivoNovedadEncontrado('morosa')">
                <span>
                    Mamá Empresaria tu pedido no será enviado
                    ya que aún cuentas con un saldo pendiente
                    por pagar. Si realizaste el pago, envía el
                    comprobante a servicioalcliente@novaventa.com
                </span>
            </div>

            <!-- Cupo -->
            <div class="item assertive" ng-show="motivoNovedadEncontrado('cupo') || motivoNovedadEncontrado('tope')">
                <span>
                    Mamá Empresaria tu pedido no será enviado
                    ya que excediste el valor permitido para
                    hacer tu pedido.
                </span>
            </div>
        </div>

        <!-- Sin información y no es encuentro todavía, primeros 5 días -->
        <div class="list no-procesado" ng-show="pedido().razonRechazo">
            <div class="item" href="#" >
                <span class="highlighted">No tienes un pedido registrado para la campaña {{ campanaAnterior.numero }}.</span>
            </div>
        </div>

        <div class="list pedido">

            <div ng-show="!pedido().razonRechazo">

                <div class="item selected" ng-repeat="estado in pedidoAnterior.historiaEstados | filter: noMostrar">
                    <div class="row">
                        <div class="col-30" style="padding-top: 20px">
                            <img ng-src="{{imagenPedido(estado)}}">
                        </div>
                        <div class="col">
                            <h2 class="balanced">{{nombreMostrar(estado.codigoEstado)}}</h2>
                            <p >{{formatoFecha(estado.fecha) | date: 'EEEE' | pascal}} {{formatoFecha(estado.fecha) | date:'dd' }} de {{ formatoFecha(estado.fecha) | date: 'MMMM' | pascal }}  del {{ formatoFecha(estado.fecha) | date: 'yyyy' }}</p>
                        </div>
                        <div class="novedad col-16" ng-show="novedadEncontrada(estado)" ng-click="buscarTextoNovedad(estado)">
                            <i class="icon ion-plus-circled item-chevron" ></i>
                        </div>
                    </div>
                </div>                 

            </div>
        </div>

        <!-- Zona de Automatización de Pruebas -->
        <!-- Los valores de este campo se llenan desde el Controller -->
        <input id="estados" type="hidden" value='' />

        <div class="div-lista-footer"></div>

    </ion-content>
</ion-view>